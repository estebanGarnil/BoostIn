
{% extends "campagnes/base.html" %}

{% load static %}

{% block title %} Campagnes {% endblock %}

{% block content %}
<div class="flex flex-col items-center space-y-6">
    {% if not campagneitem %}
    <!-- Premier Composant -->
    <div class="w-full max-w-6xl bg-white p-6 rounded-lg shadow-md">
      <div class="flex flex-col items-center justify-center">
        <img src="{% static 'campagnes/image/empty.svg' %}" class="w-1/2 h-auto mx-auto">

        <!-- Title -->
        <h1 class="text-lg font-medium text-gray-900 mb-2">Pas encore de campagne ?</h1>
        <!-- Description -->
        <p class="text-sm text-gray-500 mb-6">Commencez par remplir le formulaire de spécification.</p>
        <!-- Button -->
        <a href="{% url 'nouvelle_campagne' %}" class="flex items-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Nouvelle campagne
          </a>          
      </div>
    </div>
    {% else %}
    <div class="w-full max-w-6xl bg-white p-6 rounded-lg shadow-md">
        <div class="flex flex-col items-center justify-center">
  
          <!-- Title -->
          <h1 class="text-lg font-medium text-gray-900 mb-2">Envie d'une nouvelle campagne ?</h1>
          <!-- Description -->
          <p class="text-sm text-gray-500 mb-6">Commencez par remplir le formulaire de spécification.</p>
          <!-- Button -->
          <a href="{% url 'nouvelle_campagne' %}" class="flex items-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
              </svg>
              Nouvelle campagne
            </a>          
        </div>
      </div>  
    {% endif %}
  
    <!-- Deuxième Composant -->
    
    {% for c in campagneitem %}
    <a href="c/{{c.id_campagne}}" class="block w-full max-w-6xl bg-white p-6 rounded-lg shadow-md campagneitem flex items-center justify-between hover:shadow-lg transition-shadow duration-300">
        <!-- Texte de la Campagne -->
        <div>
          <div class="flex items-center"><h2 class="text-xl font-semibold text-gray-800 mr-2">{{ c.titre_campagne }} </h2> 
            {% if c.started == "Arret" %}
            <h4 class="text-gray-500"> • {{c.started}}</h4></div>
            {% else %}
            <h4 class="text-green-500"> • {{c.started}}</h4></div>
            {% endif %}
          <h3 class="text-sm text-gray-500">{{ c.type_campagne }}</h3>
        </div>
      
        <!-- Bouton ou Image à droite -->
        <div>
          {% if c.error %}
            <span title="{{ c.error }}" class="inline-block">
              <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#e63946">
                <path d="M480-280q17 0 28.5-11.5T520-320q0-17-11.5-28.5T480-360q-17 0-28.5 11.5T440-320q0 17 11.5 28.5T480-280Zm-40-160h80v-240h-80v240Zm40 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/>
              </svg>
            </span>
          {% elif c.started == "Arret" %}
          <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#6B7280">
            <path d="m560-241.33-47.33-47.34L672-448H160v-66.67h512l-160-160L559.33-722 800-481.33l-240 240Z"/>
          </svg>
          {% else %}
            <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#22C55E">
              <path d="m560-241.33-47.33-47.34L672-448H160v-66.67h512l-160-160L559.33-722 800-481.33l-240 240Z"/>
            </svg>
          {% endif %}
        </div>
      </a>
          {% endfor %}
  </div>
  
{% endblock %}